/* 
   ===========================================
   =         Lightweight mtab config         =
   ===========================================

   Github:      https://github.com/fr0st-iwnl/mtab-config
   Author:      fr0st

*/

/*===============================
=          Variables :)         =
===============================*/
:root {
  /* ===== Folder + Bookmark Containers ===== */
  --folder-border: rgba(255, 255, 255, 0.06);
  --folder-border-focus: rgba(255, 255, 255, 0.18);
  --folder-bg: rgba(255, 255, 255, 0.035);
  --folder-bg-focus: rgba(255, 255, 255, 0.07);
  --folder-backdrop-blur: 5px;
  --folder-backdrop-saturate: 90%;
  --folder-shadow-inset: rgba(255, 255, 255, 0.02);
  --folder-shadow-outer: rgba(0, 0, 0, 0.25);
  --folder-radius: 0rem;
  --folder-padding: 1rem;

  /* ===== Search Bar ===== */
  --search-border: rgba(255, 255, 255, 0.08);
  --search-border-focus: rgba(255, 255, 255, 0.08);
  --search-bg: rgba(255, 255, 255, 0.035);
  --search-bg-focus: rgba(255, 255, 255, 0.07);
  --search-backdrop-blur: 5px;
  --search-backdrop-saturate: 90%;
  --search-shadow-inset: rgba(255,255,255,0.03);
  --search-shadow-outer: rgba(0, 0, 0, 0.25);
  --search-radius: 0.75rem;
  --search-padding: 0.5rem;
  --search-text: #fff;
  --search-text-shadow-dark: rgba(0,0,0,0.9);
  --search-text-shadow-mid: rgba(0,0,0,0.7);
  --search-text-shadow-light: rgba(0,0,0,0.5);
  --search-placeholder-shadow-dark: rgba(0,0,0,0.8);
  --search-placeholder-shadow-mid: rgba(0,0,0,0.6);
  --search-placeholder-shadow-light: rgba(0,0,0,0.4);
  --search-caret: rgba(255,255,255,0.9);

  /* ===== Message ===== */
  --message-text: #fff;
  --message-shadow-dark: rgba(0,0,0,0.8);
  --message-shadow-mid: rgba(0,0,0,0.6);
  --message-shadow-light: rgba(0,0,0,0.4);
  --message-line-height: 1.3;

  /* ===== Selections ===== */
  --selection-bg: rgba(128,128,128,0.25);
}

/*===========================================
=       FOLDER + BOOKMARK CONTAINERS         =
============================================*/
#folder-933404c9949d4a3e96845547283d3b3d-items,
.bookmarks-cols {
  position: relative;
  border: 1.5px solid var(--folder-border);
  border-radius: var(--folder-radius);
  background: var(--folder-bg);
  backdrop-filter: blur(var(--folder-backdrop-blur)) saturate(var(--folder-backdrop-saturate));
  -webkit-backdrop-filter: blur(var(--folder-backdrop-blur)) saturate(var(--folder-backdrop-saturate));
  box-shadow:
    inset 0 0 8px var(--folder-shadow-inset),
    0 4px 14px var(--folder-shadow-outer);
  padding: var(--folder-padding);
  opacity: 1;
  transform: translateY(10px) scale(0.985);
}

/* Preload backdrop */
#folder-933404c9949d4a3e96845547283d3b3d-items::before,
.bookmarks-cols::before {
  content: "";
  position: absolute;
  inset: 0;
  background: inherit;
  backdrop-filter: inherit;
  -webkit-backdrop-filter: inherit;
  opacity: 0.001;
  pointer-events: none;
}

/*===============================
=          ANIMATIONS          =
===============================*/
@keyframes appearClean {
  0% { opacity: 1; transform: translateY(10px) scale(0.985); filter: brightness(0.95); }
  60% { opacity: 1; transform: translateY(0) scale(1); filter: brightness(1); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes fadeUpSoft {
  to { opacity: 1; transform: translateY(0); }
}

/*===============================
=          SEARCH BAR           =
===============================*/
#search-container {
  border: 1.5px solid var(--search-border);
  border-color: var(--search-border-focus) !important; /* prevent extension override */
  border-radius: var(--search-radius);
  background: var(--search-bg);
  backdrop-filter: blur(var(--search-backdrop-blur)) saturate(var(--search-backdrop-saturate));
  -webkit-backdrop-filter: blur(var(--search-backdrop-blur)) saturate(var(--search-backdrop-saturate));
  box-shadow:
    inset 0 0 8px var(--search-shadow-inset),
    0 3px 10px var(--search-shadow-outer);
  display: grid;
  align-items: center;
}

#search-container:focus-within {
  background: var(--search-bg-focus);
  box-shadow:
    inset 0 0 10px rgba(255,255,255,0.05),
    0 4px 14px var(--search-shadow-outer);
}

/* Input inside search container */
#search-container input {
  background: transparent;
  border: none;
  outline: none;
  color: var(--search-text);
  width: 100%;
  font-family: inherit;
  font-weight: 500;
  letter-spacing: var(--letter-spacing);
  caret-color: var(--search-caret);
  padding-left: var(--search-padding);
}

/* Search input typed text & caret */
#search-input {
  background: transparent;
  border: none;
  outline: none;
  font-family: inherit;
  font-weight: 500;
  font-size: 1rem;
  width: 100%;
  color: var(--search-text);
  text-shadow:
    0 0 3px var(--search-text-shadow-dark),
    0 1px 4px var(--search-text-shadow-mid),
    0 2px 5px var(--search-text-shadow-light);
  caret-color: var(--search-caret);
}

/* Placeholder */
#search-container input::placeholder {
  color: var(--search-text);
  text-shadow:
    0 0 2px var(--search-placeholder-shadow-dark),
    0 1px 3px var(--search-placeholder-shadow-mid),
    0 2px 4px var(--search-placeholder-shadow-light);
}

/* Hide arrow */
.search-search-icon-color {
  text-indent: -9999px;
}

/* ===============================
=       ASSISTANT CONTAINER      =
=============================== */
#assistant-container {
  position: relative;
  border: 1.5px solid var(--search-border);
  border-color: var(--search-border-focus) !important; /* prevent extension override */
  border-radius: var(--search-radius);
  background: var(--search-bg);
  backdrop-filter: blur(var(--search-backdrop-blur)) saturate(var(--search-backdrop-saturate));
  -webkit-backdrop-filter: blur(var(--search-backdrop-blur)) saturate(var(--search-backdrop-saturate));
  box-shadow:
    inset 0 0 8px var(--search-shadow-inset),
    0 3px 10px var(--search-shadow-outer);
  padding: 1rem;
  opacity: 1;
}

.text-ellipsis{
    text-shadow:
    0 0 2px var(--message-shadow-dark),
    0 1px 3px var(--message-shadow-mid),
    0 2px 4px var(--message-shadow-light);
}


/*===============================
=            MESSAGE            =
===============================*/
#message {
  font-weight: 600;
  font-family: inherit;
  text-align: center;
  letter-spacing: 0.25px;
  line-height: var(--message-line-height);
  color: var(--message-text);
  text-shadow:
    0 0 2px var(--message-shadow-dark),
    0 1px 3px var(--message-shadow-mid),
    0 2px 4px var(--message-shadow-light);
  opacity: 1;
  transform: translateY(8px);
}


/* ===============================
=         OPTIONS BUTTON         =
=============================== */
#options-button {
    background: var(--search-bg);
    backdrop-filter: blur(var(--search-backdrop-blur)) saturate(var(--search-backdrop-saturate));
    -webkit-backdrop-filter: blur(var(--search-backdrop-blur)) saturate(var(--search-backdrop-saturate));
    box-shadow:
        inset 0 0 8px var(--search-shadow-inset),
        0 3px 10px var(--search-shadow-outer);
}

/*=========== MISC ===========/

/*===============================
=           SELECTIONS           =
===============================*/
#message::selection,
#search-input::selection {
  background-color: var(--selection-bg);
  color: inherit;
}
